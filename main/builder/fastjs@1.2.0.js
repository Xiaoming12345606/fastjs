/* Fastjs v1.2.0 | (c) 2021-2022 dy-xiaodong (Fastjs Team) | MIT License */
const FASTJS_CONFIG={version:"1.2.0",function:{String:{push:{match:"%s%"}}}};class dom{constructor(c="div",a){let b=$().createElement(c);return a&&a.length>1&&("."===a[0]&&b.addClass(a.substr(1)),"#"===a[0]&&(b.id=a.substr(1))),b}}var fastjs={setup(){window.$=fastjs.dom;let b=[];$().ready=a=>void b.push(a),$().onreadystatechange=()=>{"complete"===$().readyState&&b.each(a=>a())},window.js=fastjs,Object.prototype.toArray=function(){return Object.entries(this)};let a={addClass(a=""){return js.type(a,"string")?(this.classList.add(a),this):0},css(a){return js.type(a,"string")?this.style=a:js.type(a,"object")?Object.entries(a).forEach(a=>{this.style[a[0]]=a[1]}):this.attr("style",null),this},insertAfter(a){let b=a.father();return b.lastChild===a?b.appendChild(this):b.insertBefore(this,a.nextSibling),this},attr(a,b=!1){return!1===b?this.getAttribute(a):(null===b?this.removeAttribute(a):this.setAttribute(a,String(b)),this)},on(c,a){let b=`on${c}`;return null==a?this[b]=null:js.type(a,"function")?this[b]=()=>{a(this)}:(a&&0!==a.length||fastjs.qualityOutput("main.on","Given should not be none"),this[b]=()=>{a.each(a=>{a(this)})}),this},domAddEnd(a){return this.appendChild(a),this},html(a){return this.innerHTML=void 0!==a?a:this.innerHTML,void 0===a?this.innerHTML:this},text(a){return this.innerText=void 0!==a?a:this.innerText,void 0===a?this.innerText:this},gethtml(){return this.html()},gettext(){return this.text()},next(a){return fastjs.dom(a,this)},val(a){return void 0!==a?("BUTTON"===this.tagName?this.text(a):this.value=a,this):this.value},push(a){return js.type(a,"string")&&(a=$().querySelector(a)),a&&a.domAddEnd(this),this},cover(b){let a=$().querySelector(b);return a&&a.html().appendChild(this),this},father(){return this.parentNode},hide(){return this.hidden=!0,this},show(){return this.hidden=!1,this},set(a,b){return this[a]=b,this},setAttr(a,b){return this.setAttribute(a,b),this}};a.toArray().forEach(a=>{Element.prototype[a[0]]=a[1]}),(a={push(a,c){let b=this;a||(a="");let d=FASTJS_CONFIG.function.String.push.match;return js.type(a,"string")?b=b.replaceAll(void 0!==c?c:d,a):js.type(a,"object")?a.forEach((f,g)=>{g>=a.length&&(f=a[a.length-1]),b=b.replace(void 0!==c?c:d,f)}):(a=String(a),b=b.replaceAll(void 0!==c?c:d,a)),b},search(b=""){let a=this.indexOf(b);return!(a<0)&&a},strrev(){return this.split("").reverse().join("")},forEach(b=()=>{}){js.type(b,"function");for(let a=0;a<this.length;a++)b(this[a])},pushToDom(a=""){return(!js.type(a,"string")&&null!=a||(a=$().querySelector(a)))&&a.html(this),this},array(b){if(js.type(b,"string")){let a="",c=[];for(let d=0;d<this.length;d++)!1!==(a+=this[d]).search(b)&&(a=a.replace(b,""),c.push(a),a="");return a.length&&c.push(a),c}if(js.type(b,"number")){let f=0,g="",i=[];for(let h=0;h<this.length;h++)f++,g+=this[h],f===b&&(i.push(g),g="",f=0);return i}return 0},int(){return Number(this)}}).toArray().forEach(a=>{String.prototype[a[0]]=a[1]}),Number.prototype.str=function(){return String(this)},NodeList.prototype.each=function(a){return this.forEach(a),this},Object.prototype.set=function(a,b){return this[a]=b,this},(a={search(a){if(js.type(a,"number"))a=String(a);else if(!js.type(a,"string"))return 0;return this.indexOf(a)> -1&&this.indexOf(a)},random(){return this[Math.floor(Math.random()*(this.length-1-0+1))+0]},add(b,a){return a||0===a?this.length<a||a<0?0:(this.splice(a,0,b),this):(this.push(b),this)},delete(b,a=1){return a<1?(fastjs.qualityOutput("Array.delete","Method calls that could have been ignored"),this):(this.splice(b,a),this)},resort(){return this.sort().reverse()},string(a,c){a||(a=",");let b="";return this.forEach((c,d)=>{b+="%s%%s%".push([c,d+1===this.length?"":a],"%s%")}),c?"[%s%]".push(b,"%s%"):b},each(a){return this.forEach(a),this}}).toArray().forEach(a=>{Array.prototype[a[0]]=a[1]});let c=["String","Number","NodeList","Element","Boolean","Array","Function","Document","Object","Symbol","Date","RegExp","Promise"];Object({then:{i:"Object",func(b,a=0){return a?setTimeout(()=>b(this),a):b(this),this}},log:{func(b,c=0){let a=null!=this.trim?this.toString():this;return console.log(a),a}},$:{func:a=>fastjs.dom(a)}}).toArray().each(a=>c.each(b=>{a[1].i&& !1!==a[1].i.search(b)||(window[b].prototype[a[0]]=a[1].func)}))},random:(a,b)=>js.type(a,"number")&&js.type(b,"number")&&!(b<=a)?Math.floor(Math.random()*(b-a+1))+a:0,dom:(a,b=document)=>null==a?document:b="#"===a.split(" ").pop()[0]|| !1!==["body","html","head"].search(a)?b.querySelector(a):b.querySelectorAll(a),library(b,a){"function"===b&&(fastjs[a.name]=a.function,void 0!==fastjs[a.name]&&a.global&&(window[a.name]=a.function))},copy(b){var a=new dom("input");a.val(b).push("body").select(),$().execCommand("Copy"),a.css("display: none").remove()},type:(a,b)=>void 0===b?"object"==typeof a?void 0===a.__proto__.at?"object":"array":typeof a:"object"==typeof a?void 0===a.__proto__.at?"object"===b:"array"===b:typeof a===b};fastjs.setup();const Ajax={encode:!0,successCode:["200"],hooks:{beforeSetup(a){},beforeSend(a){},send(a){},beforeUpdate(a,b){},update(a,b){}}};class ajax{constructor(a,b,c,d,f=5e3,g,h,i=!0){this.url=a||"",this.data=b||{},this.callback=c||(()=>0),this.failed=d||(()=>0),this.timeout=f,this.header=g||{},this.datatype=h||"auto",this.async=i}set(a,b){return this[a]=b,this}send(b,d,g,c){if(!1===Ajax.hooks.beforeSetup(this))return!1;b||(b=this.url);let h=0===this.timeout?5e3:this.timeout;g=g||this.callback,d=d||this.data;let i=this.datatype,f="";Object.entries(d).forEach((a,b)=>{Ajax.encode&&(a[1]=encodeURIComponent(a[1])),f+=b?`&${a[0]}=${a[1]}`:`${a[0]}=${a[1]}`});let a=new XMLHttpRequest;if(a.responseType=this.async?"json"==i?"json":"text":void 0,a.timeout=this.async?h:void 0,this.xhr=a,!1===Ajax.hooks.beforeSend(this))return!1;let j=()=>{if(!1===Ajax.hooks.beforeUpdate(this,!1))return!1;"function"==typeof this.failed&&this.failed("!failed",a.status),this.result="!failed",Ajax.hooks.update(this,!1)};return a.sendTimeout=setTimeout(j,h),a.open(c,"get"===c?b+(f.length>0?"?":"")+f:b,this.async),"post"===c&&a.setRequestHeader("Content-type","application/x-www-form-urlencoded"),this.header.toArray().forEach(b=>{a.setRequestHeader(b[0],b[1])}),a.onload=()=>{if(clearTimeout(a.sendTimeout),!1===Ajax.successCode.search(a.status))return j();let b=a.response;if("auto"===i)try{b=JSON.parse(b)}catch(c){}return this.result=b,this.status=a.status,!1!==Ajax.hooks.beforeUpdate(this,!0)&&(g&&"function"==typeof g&&g(b,200),!1!==Ajax.hooks.update(this,!0)&&void 0)},a.send("post"===c?f:null),this.xhr=a,!1== !Ajax.hooks.send(this)}post(a,b,c){this.send(a,b,c,"post")}get(a,b,c){this.send(a,b,c,"get")}}let e=new dom("div").attr("about","fastjs-msg").css("width: 100vw");$().ready(()=>{let a=$().body;a.children.length&&a.insertBefore(e,a.children[0])});var Message={load(a,b,c,d="spin"){return this.$newMsg(a,b,c,`load-${d}`,"#6bd1ff")},error(a,b,c){return this.$newMsg(a,b,c,"error","red")},success(a,b,c){return this.$newMsg(a,b,c,"error","rgb(124, 202, 124)")},warning(a,b,c){return this.$newMsg(a,b,c,"error","#ffff5e","#c6c6c6")},close(){e.html("").css("margin-top: 0px")},$newMsg(g="",h=!0,b=0,a,i,c="white"){e.css("margin-top: -1px");let d=new dom("div").css(`display:flex;border-top:1px solid #b7b7b7;user-select:none;padding:2px 0;height:28px;text-align:center;line-height:28px;background:${i}`).addClass(`msg-${a}`).push(e),f=new dom("div").addClass("center").css("display:flex;margin: auto").push(d);if("load-spin"===a){let k=new dom("span").addClass("icon").css("transition: 0s;border-radius:50%;border:2px solid #6bd1ff;border-top:2px solid white;height:18px;width:18px;margin:2px;margin-left:4px;margin-right:8px;").push(f),l=0;setInterval(()=>{360==l&&(l=0),l+=3,k.css({transform:`rotate(${l}deg)`})},10)}let j=new dom("span").addClass("text").css(`font-size:13px;margin-top: -2px;color:${c}`).html(g).push(f);if("load-text"===a){let m=0;setInterval(()=>{let a=g;for(let b=0;b<m;b++)a+=".";m>3?m=0:(j.html(a),m++)},400)}return j.next("a").each(a=>a.css("color:rgb(163, 225, 255);font-weight:600;text-decoration-line:underline;cursor:pointer;")),h&&new dom("span").addClass("close").text("x").css(`cursor:pointer;margin-top: -3px;width:26px;color:${c}`).on("click",()=>{d.remove(),e.children.length||e.attr("style",null)}).push(d),b&&setTimeout(()=>{d.remove(),e.children.length||e.attr("style",null)},b),()=>(d.remove(),e.children.length||e.attr("style",null),!0)}}